// --- Componente: Lightbox ---
@use 'variables' as *;
@use 'mixins' as *;
.lightbox-overlay {
    position: fixed;
    inset: 0; // Equivalente a top, right, bottom, left = 0
    background-color: $color-negro-transparente;
    @include flex-center(column);
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity $transicion-media, visibility $transicion-media;
    padding: 1rem;

    &.visible {
        opacity: 1;
        visibility: visible;
    }

    img {
        max-width: 85vw; // Dejamos espacio para los botones de navegación
        max-height: 80vh;
        box-shadow: 0 0 30px $color-sombra-lightbox;
        border-radius: $radio-borde-sm;
        transition: opacity $transicion-rapida, transform 0.3s ease; // Transición para el efecto de fade

        @media (max-width: $breakpoint-tablet) and (orientation: portrait) {
            // En móvil vertical, dejamos espacio para la barra inferior
            max-height: calc(100vh - 150px);
        }

        @media (max-width: $breakpoint-tablet) {
            max-width: 80vw; // Un poco más de espacio en móviles
        }
    }
}

.lightbox-content {
    @include flex-center(column);
}

.lightbox-actions {
    display: flex;
    align-items: center;
    gap: 1rem;
}

// --- Barra inferior optimizada para móvil ---
.lightbox-bottom-bar {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    margin-top: 1rem;

    @media (max-width: $breakpoint-tablet) {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        flex-direction: row;
        justify-content: space-between;
        padding: 0.75rem 1rem;
        margin: 0;
        background: rgba(10, 10, 10, 0.5);
        backdrop-filter: blur(10px);
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        z-index: 1002;
        transition: transform 0.3s ease;

        // --- Corrección para Tooltips en la barra inferior ---
        // Hacemos que el tooltip aparezca por encima de la barra, no del botón.
        [data-tooltip]::after {
            bottom: 100%; // Posiciona el tooltip justo encima de la barra
            margin-bottom: 0.5rem; // Añade un pequeño espacio
            transform: translateX(-50%); // Mantenemos el centrado horizontal
        }
    }
}

.lightbox-info {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;

    @media (max-width: $breakpoint-tablet) {
        align-items: flex-start;
        // Permitimos que este contenedor se encoja y cortamos el texto si es muy largo
        flex-shrink: 1;
        min-width: 0;
        overflow: hidden;
    }
}

// Estilos para el título de la foto en el Lightbox
.lightbox-caption {
    color: $color-blanco;
    margin: 0;
    font-weight: 600;
    max-width: 80vw;
    text-align: center;
    font-size: 1rem;

    @media (max-width: $breakpoint-tablet) {
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
    }
}

// Estilos para el contador de fotos
.lightbox-counter {
    color: #ccc; // Un color más sutil
    font-size: 0.9rem;
    margin: 0;
}